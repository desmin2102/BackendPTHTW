<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Thống kê điểm rèn luyện</title>
    <th:block th:replace="~{base :: styles}"></th:block>
</head>
<body>
    <div th:replace="~{base :: header}"></div>
    <div class="content">
        <main class="container">
            <h1 class="text-center text-info mt-3">Thống kê điểm rèn luyện</h1>
            <div th:if="${error != null}" class="alert alert-danger" th:text="${error}"></div>

            <!-- Thống kê theo khoa -->
            <h3>Thống kê theo khoa</h3>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Khoa</th>
                        <th>Số sinh viên</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="entry : ${thongKeTheoKhoa.entrySet()}">
                        <td th:text="${entry.key}"></td>
                        <td th:text="${entry.value}"></td>
                    </tr>
                </tbody>
            </table>

            <!-- Thống kê theo thành tích -->
            <h3>Thống kê theo thành tích</h3>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Thành tích</th>
                        <th>Số sinh viên</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="entry : ${thongKeTheoThanhTich.entrySet()}">
                        <td th:text="${entry.key}"></td>
                        <td th:text="${entry.value}"></td>
                    </tr>
                </tbody>
            </table>

            <!-- Nút xuất PDF/CSV -->
            <a th:href="@{/api/secure/export/pdf}" class="btn btn-primary">Xuất PDF</a>
            <a th:href="@{/api/secure/export/csv}" class="btn btn-success">Xuất CSV</a>
        </main>
    </div>
    <div th:replace="~{base :: footer}"></div>
</body>
</html>